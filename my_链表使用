#include <stdio.h>
#include <stdlib.h>
#include <string.h>
int count = 0;
struct calculate {
    char c;
    struct calculate* next;
};
typedef struct calculate cal;
struct likist {
    int distance;
    int time;
};
typedef struct likist lis;
lis lik[100];
cal* head = NULL;
void putin(void);
void putout1(void);
void putout2(void);
void putout3(void);
void change(void);
int find(void) {
    int min = lik[0].distance;
    int index = 0;
    for (int i = 1; i < count; i++) {
        if (lik[i].distance < min) {
            min = lik[i].distance;
            index = i;
        }
    }
    return index;
}
int main() {
    putin();
    putout1();
    putout2();
    change();
    putout3();
    return 0;
}
void putin(void) {
    char ch;
    cal* p1, * p2;
    while (1) {
        ch = getchar();
        if (ch == '\n') {
            break;
        }
        else {
            p1 = (cal*)malloc(sizeof(cal));
            p1->c = ch;
            p1->next = NULL;
            if (head == NULL) {
                head = p1;
            }
            else {
                p2 = head;
                while (p2->next != NULL) {
                    p2 = p2->next;
                }
                p2->next = p1;
            }
        }
    }
}
void putout1(void) {
    cal* p = head;
    while (p != NULL) {
        printf("%c ", p->c);
        p = p->next;
    }
    printf("\n");
}
void putout2(void) {
    char* ch = (char*)malloc(100 * sizeof(char));
    int count2 = 0;
    cal* p = head;
    while (p != NULL && count2 < 99) {
        ch[count2++] = p->c;
        p = p->next;
    }
    ch[count2] = '\0';
    printf("%s\n", ch);
}
void putout3(void) {
    cal* p = head;
    while (p != NULL) {
        printf("%c", p->c);
        p = p->next;
    }
    printf("\n");
}
void change(void) {
    char a;
    int flag = 0;
	scanf("%c", &a);
    cal* p1 = head, * p2 = NULL;
    while (p1 != NULL) {
        if (p1->c == a) {
            flag = 1;
            if (p2 == NULL) {
                head = p1->next;
                p1 = head;
            }
            else {
                p2->next = p1->next;
                p1 = p2->next;
            }
        }
        else {
            lik[count].distance = abs(a - p1->c);
            count++;
            p2 = p1;
            p1 = p1->next;
        }
    }
    if (flag == 0) {
        int times = find();
		cal* newnode = head;
        for (int i = 0; i < times; i++) {
			newnode = newnode->next;
        }
		cal* newcal = (cal*)malloc(sizeof(cal));
		newcal->c = a;
		newcal->next = newnode->next;
		newnode->next = newcal;
    }
}
